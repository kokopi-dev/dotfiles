# general packages
sudo pacman -S swaybg wl-clipboard wl-clip-persist cliphist slurp grim satty mako neovim firefox ghostty fastfetch xdg-desktop-portal-wlr libnotify unzip bat rsync exa ripgrep bash-completion jq otf-font-awesome thunar

# fix locale
# double check /etc/locale.gen for en_US.UTF-8
sudo locale-gen
sudo localectl set-locale LANG=en_US.UTF-8

# sound
sudo pacman -S pipewire pipewire-alsa pipewire-pulse pipewire-jack wireplumber pavucontrol
systemctl --user enable --now pipewire pipewire-pulse wireplumber

# discord, just run discord without flags with xwayland
# need 'export DISPLAY=:0' in autostart.sh
sudo pacman -S xorg-xwayland

# japanese
sudo pacman -S fcitx5 fcitx5-anthy fcitx5-gtk fcitx5-qt fcitx5-configtool
sudo pacman -S adobe-source-han-sans-jp-fonts
fc-cache -fv

# npm
yay -S fnm
echo 'eval "$(fnm env --use-on-cd)"' >> ~/.bashrc

source ~/.bashrc
fnm install --lts
fnm use lts-latest

# tailscale
https://tailscale.com/download/linux/arch

# starship
sudo pacman -S starship
echo 'eval "$(starship init bash)"' >> ~/.bashrc

# ssh
sudo pacman -S openssh
sudo systemctl start sshd
sudo systemctl enable sshd

# password manager
sudo pacman -S pass
# create ssh key for pw manager server
ssh-keygen -t ed25519 -C "username@hostname"
# add pub to pw manager server
# clone syncpass and run ./syncpass init and follow instructions
# run ./syncpass update to get latest passwords

# gtk theme
sudo pacman -S sassc gnome-themes-extra
yay -S gtk-engine-murrine
# instructions: https://www.pling.com/p/1681315
# probably: Tokyonight-BL-LB-dark.tar.xz
# rename ~/.themes/Tokyonight-BL-LB-Dark to ~/.themes/tokyonight-dark
# copy dotfiles > ~/.config/gtk-3.0/
# add the autostart of gsettings
# firefox > about:support > os theme should now be tokyonight

# fonts
# add to ~/.local/share/fonts/*.ttf
# https://github.com/vercel/geist-font/releases
fc-cache -fv

# monitor management
yay -S wdisplays wlr-randr

# bluetooth
sudo pacman -S bluez bluez-utils blueman pipewire-bluetooth
sudo systemctl enable --now bluetooth.service
# sudo vim /etc/bluetooth/main.conf
# uncomment [Policy] ... AutoEnable=true
# validate btusb enabled: lsmod | grep btusb
# not enabled: sudo modprobe btusb

# wallpapers
sudo pacman -S swww
# if pyenv installed: PATH="/usr/bin:$PATH" yay -S waypaper
yay -S waypaper
